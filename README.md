# WikiGap: Promoting Epistemic Equity by Surfacing Knowledge Gaps Between English Wikipedia and Other Language Editions

This repository contains the **Chrome extension** and companion resources described in our paper:

> **WikiGap: Promoting Epistemic Equity by Surfacing Knowledge Gaps Between English Wikipedia and Other Language Editions**

---

## ğŸ” Overview

WikiGap is a browser extension that reveals factual asymmetries between English Wikipedia and selected nonâ€‘English editions (Chinese, French, Russian). It helps to:

- Challenge the â€œEnglishâ€‘asâ€‘supersetâ€ assumption  
- Increase crossâ€‘lingual awareness and access  
- Support multilingual knowledge equity  

All factâ€‘extraction and comparison logic lives in the separate **InfoGap pipeline (WikiGap branch)**: <[https://github.com/smfsamir/infogap/tree/WikiGap](https://github.com/smfsamir/infogap/tree/WikiGap)>

This repo focuses exclusively on the **UI layer**â€”loading the preâ€‘computed JSON files and presenting knowledge gaps directly in the page.

---

## ğŸ—‚ï¸ Repository Structure

| Path / File                              | Purpose                                                                                                     |
|------------------------------------------|-------------------------------------------------------------------------------------------------------------|
| `content.js`                             | Core script injected into Wikipedia pages                                                                   |
| `manifest.json`                          | Chrome extension manifest                                                                                   |
| `wikigap/process_annotations.py`         | Converts InfoGap output into the concise `topic.json` format consumed by the extension                      |
| `quiz_questions/`                        | Sample multipleâ€‘choice questions from our user study                                                        |
| `studyeval/`Â (gitâ€‘ignored)               | Notebooks & scripts for analyzing userâ€‘study data                                                           |
| `data_pipeline/wikigap_data/json/`       | **Drop the final `{topic}.json` files** generated by InfoGap here                                           |

---

## ğŸš€ QuickÂ Start: Testing the Extension

1. **Clone** the repo  
   ```bash
   git clone https://github.com/aw814/WikiGap.git
   ```
2. **Zip** the *contents* of the cloned directory (zip the files inside, **not** the parent folder).  
3. **Load** the unpacked extension in Chrome:  
   - Navigate to `chrome://extensions/`  
   - Toggle **Developer mode** (topâ€‘right)  
   - Click **Load unpacked** and select the unzipped directory  
4. Visit one of the sample Englishâ€‘language articles included in the dataset (e.g., *PekingÂ Duck*, *PhilippineÂ Adobo*, *Paella*, *Injera*, *WienerÂ Schnitzel*). WikiGap should highlight crossâ€‘lingual facts in the sidebar.

---

## ğŸŒ Using WikiGap on Additional Articles

WikiGapâ€™s UI expects a **single, unified file** per article (e.g., `Peking_Duck.json`). Producing that file is a twoâ€‘step process *inside the InfoGap repo*:

| Stage | Where it runs | Output file(s) | Purpose |
|-------|---------------|----------------|---------|
| **1â€¯A.** Run the full InfoGap pipeline | `infogap/` | `annotation_<DATE>_<ARTICLE_TOPIC>_<LANG>.json` (one per language) | Raw factâ€‘mismatch annotations generated by GPT |
| **1â€¯B.** **Postâ€‘process** those annotation files | `infogap/` | `{ARTICLE_TOPIC}.json` | Combines multiâ€‘language outputs into a single, easyâ€‘toâ€‘retrieve file for WikiGap |

> **NoteÂ :** StepÂ 1â€¯B is novel to the WikiGap projectâ€”it standardises the raw annotations for realâ€‘time lookâ€‘ups inside the extension.

### 1. Generate `{topic}.json` via InfoGap

```bash
# inside the InfoGap repo
python main_complete_analysis.py run-multiple-topics   # produces annotation_*.json
python postprocess/build_topic_json.py                 # collapses into {topic}.json
```

### 2. Copy files into this repo

Place each final `{topic}.json` under:

```
WikiGap/
â””â”€ json/
   â””â”€ {topic}.json
```

### 3. Refresh the extension

Reload WikiGap in `chrome://extensions/`, then visit the corresponding English Wikipedia articleâ€”your new crossâ€‘lingual facts will surface automatically.

---

## ğŸ“„ Paper

Preprint available on arXiv: <https://arxiv.org/abs/2505.24195>

---

## ğŸ¤ Citation

If you use this codebase or the accompanying datasets, please cite the paper above.
